<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EscrowEcho - Crypto & Escrow Implementation Blueprint</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: The SPA is now structured around a unified, three-part navigation bar. Each tab represents a phase and functions as the primary point of interaction, replacing the separate flowchart. This design streamlines the user experience by combining navigation with visual cues, making the application's flow more intuitive and less cluttered. Users can explore the project timeline linearly by clicking on each phase tab. -->
    <!-- Visualization & Content Choices: 
        - Phased Plan -> Goal: Organize/Change -> Viz: Interactive Tabs with Icons -> Interaction: Click to show/hide content -> Justification: Merging the tabs with the flowchart's visual elements simplifies the UI and reduces cognitive load, creating a more direct and efficient navigation experience for the user. -> Method: Vanilla JS.
        - Language Selector -> Goal: Inform/Organize -> Viz: Flag Icons -> Interaction: Click to change all page text to a different language -> Justification: Provides a common, intuitive method for multilingual support, essential for international platforms. -> Method: Vanilla JS.
        - Key Components (Database, APIs, UI) -> Goal: Inform/Organize -> Viz: Styled Cards with Icons -> Interaction: Static display within tabs -> Justification: Cards with icons break down the technical components of each phase into visually distinct, easy-to-scan blocks of information. -> Method: HTML/Tailwind.
        - Technical Specs (Tables, Endpoints) -> Goal: Inform -> Viz: Pre-formatted text blocks -> Interaction: Static -> Justification: Presents code-like information in a clean, readable format that respects structure and spacing. The code block now correctly handles text overflow. -> Method: HTML `<pre>` tag.
        - Project Scale -> Goal: Inform -> Viz: Emphasized Text Block -> Interaction: Static -> Justification: A dedicated summary block at the end reinforces the project's overall scope and importance. -> Method: HTML/Tailwind.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f1eb;
            color: #3f3c36;
        }
        .phase-tab {
            transition: all 0.3s ease;
            cursor: pointer;
            padding: 1.5rem 1rem;
        }
        .phase-tab.active {
            background-color: #8d836e;
            color: #ffffff;
            font-weight: 600;
        }
        .phase-tab:not(.active):hover {
            background-color: #e0dace;
        }
        .phase-content {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .phase-content.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .info-card {
            background-color: #ffffff;
            border: 1px solid #e0dace;
            overflow: hidden;
        }
        .info-card-icon {
            background-color: #8d836e;
            color: #ffffff;
        }
        .code-block {
            background-color: #f9f7f3;
            border: 1px solid #e0dace;
            font-family: 'Courier New', Courier, monospace;
            padding: 1rem;
            border-radius: 0.5rem;
            white-space: pre-wrap;
            word-break: break-all;
        }
        .lang-selector span {
            cursor: pointer;
            font-size: 1.5rem;
            margin: 0 0.25rem;
            opacity: 0.5;
            transition: opacity 0.3s ease;
        }
        .lang-selector span.active {
            opacity: 1;
        }
        .lang-selector span:hover {
            opacity: 1;
        }
    </style>
</head>
<body class="antialiased">

    <div class="bg-white shadow-sm">
        <header class="container mx-auto px-4 sm:px-6 lg:px-8 py-5 flex justify-between items-center">
            <div class="w-1/3"></div>
            <div class="w-1/3 text-center">
                <h1 id="title" class="text-3xl font-bold text-[#3f3c36]"></h1>
                <p id="subtitle" class="text-center text-lg text-[#6b665b] mt-1"></p>
            </div>
            <div class="w-1/3 flex justify-end">
                <div class="lang-selector">
                    <span id="lang-en" class="active">üá¨üáß</span>
                    <span id="lang-nl">üá≥üá±</span>
                    <span id="lang-fr">üá´üá∑</span>
                </div>
            </div>
        </header>
    </div>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
        <section class="text-center max-w-3xl mx-auto mb-12">
            <h2 id="section-title" class="text-2xl font-semibold mb-4"></h2>
            <p id="section-description" class="text-[#6b665b] leading-relaxed"></p>
        </section>
        
        <section id="phase-navigation" class="mb-12">
            <div class="flex flex-col sm:flex-row justify-center items-center bg-white rounded-xl shadow-md border border-gray-200 divide-y sm:divide-y-0 sm:divide-x divide-gray-200">
                <div class="phase-tab active w-full sm:w-1/3 flex flex-col justify-center items-center text-center p-6 rounded-t-xl sm:rounded-l-xl sm:rounded-tr-none" data-phase="1">
                    <div class="text-4xl">üèóÔ∏è</div>
                    <div class="mt-2">
                        <div id="flowchart-1-title" class="font-bold text-lg"></div>
                        <div id="flowchart-1-subtitle" class="text-sm"></div>
                    </div>
                </div>
                <div class="phase-tab w-full sm:w-1/3 flex flex-col justify-center items-center text-center p-6" data-phase="2">
                    <div class="text-4xl">‚öôÔ∏è</div>
                    <div class="mt-2">
                        <div id="flowchart-2-title" class="font-bold text-lg"></div>
                        <div id="flowchart-2-subtitle" class="text-sm"></div>
                    </div>
                </div>
                <div class="phase-tab w-full sm:w-1/3 flex flex-col justify-center items-center text-center p-6 rounded-b-xl sm:rounded-r-xl sm:rounded-bl-none" data-phase="3">
                    <div class="text-4xl">üñ•Ô∏è</div>
                    <div class="mt-2">
                        <div id="flowchart-3-title" class="font-bold text-lg"></div>
                        <div id="flowchart-3-subtitle" class="text-sm"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <div id="phases-container"></div>

        <section id="conclusion" class="mt-16 pt-12 border-t border-gray-200">
            <h2 id="conclusion-title" class="text-2xl font-bold text-center mb-4"></h2>
            <div class="max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-md">
                <p id="conclusion-text" class="text-[#6b665b] leading-relaxed text-center"></p>
            </div>
        </section>
    </main>
    
    <footer class="text-center py-6 mt-12 border-t border-gray-200">
        <p id="footer-text" class="text-sm text-[#8d836e]"></p>
    </footer>

    <script>
        const languageData = {
            en: {
                title: 'The Road to Crypto',
                subtitle: 'An Interactive Implementation Blueprint',
                sectionTitle: 'A Phased Approach to Secure Crypto Integration',
                sectionDescription: 'This blueprint outlines the comprehensive, three-phase plan to integrate Bitcoin (BTC) and Monero (XMR) wallets, along with a secure multi-signature escrow system, into the Maestro Shop platform. Navigate through the phases using the tabs below to explore the technical requirements and project scope at each stage.',
                phase1Tab: 'Phase 1: Infrastructure',
                phase2Tab: 'Phase 2: Backend & APIs',
                phase3Tab: 'Phase 3: Frontend & UX',
                flowchart1Title: 'Phase 1',
                flowchart1Subtitle: 'Foundational Infrastructure',
                flowchart2Title: 'Phase 2',
                flowchart2Subtitle: 'Core Backend Services',
                flowchart3Title: 'Phase 3',
                flowchart3Subtitle: 'Frontend & User Experience',
                conclusionTitle: 'Conclusion: The Scale of the Project',
                conclusionText: 'Implementing a robust, privacy-focused cryptocurrency payment and escrow system is a significant undertaking. It\'s a project that extends beyond simple code changes, touching every layer of the application stack. This approach aligns with modern security and privacy principles, setting up Maestro Shop for a truly premium and secure shopping experience. The work required is extensive, spanning from the database schema to the user interface, but the result will be a powerful and resilient system.',
                footerText: '¬© 2025 Maestro Shop Crypto Integration Plan',
                phases: [
                    {
                        id: 1,
                        title: 'Phase 1: Foundational Infrastructure',
                        description: 'The initial phase focuses on building a secure and scalable backend foundation. This is the most critical and complex part of the project, establishing the bedrock for all subsequent features.',
                        cards: [
                            {
                                icon: 'üóÉÔ∏è',
                                title: 'Database Schema',
                                description: 'The existing database is insufficient. We will introduce new tables to handle cryptocurrency transactions, wallets, and the escrow system.',
                                code: ['- user_crypto_wallets', '- crypto_transactions', '- escrow_transactions']
                            },
                            {
                                icon: 'üîó',
                                title: 'Payment Gateways',
                                description: 'Relying on a self-hosted, open-source payment processor like <strong class="text-[#3f3c36]">BTCPay Server</strong> is highly recommended to handle complex tasks like generating unique addresses and monitoring the blockchain.'
                            },
                            {
                                icon: 'üåê',
                                title: 'Self-Hosted Nodes',
                                description: 'For true privacy and decentralization, running our own <strong class="text-[#3f3c36]">Bitcoin Core</strong> and Monero <strong class="text-[#3f3c36]">monerod</strong> nodes is essential. This ensures we don\'t rely on external, potentially less private, third-party services.'
                            }
                        ]
                    },
                    {
                        id: 2,
                        title: 'Phase 2: Core Backend Services & APIs',
                        description: 'With the foundation in place, this phase focuses on building the application logic and APIs that will power the wallet and escrow functionalities, connecting the infrastructure to the user-facing features.',
                        cards: [
                            {
                                icon: 'ÔøΩ',
                                title: 'API Endpoints',
                                description: 'A new set of RESTful API endpoints will manage all crypto-related functions, providing a clear interface for the frontend.',
                                code: ['/api/wallet/{currency}/deposit', '/api/wallet/{currency}/balance', '/api/wallet/{currency}/withdraw', '/api/escrow/create']
                            },
                            {
                                icon: 'ü§ù',
                                title: 'Escrow Logic',
                                description: 'The escrow system will be built on a <strong class="text-[#3f3c36]">2-of-3 multi-signature</strong> principle, requiring at least two of three parties (buyer, seller, and platform arbiter) to approve a transaction, ensuring fairness and reducing fraud risk.'
                            },
                            {
                                icon: 'üõ°Ô∏è',
                                title: 'Security & Auditing',
                                description: 'New services will be implemented to secure hot wallets, manage regular transfers to cold storage, and provide auditing logs for all financial transactions. This is a crucial security layer to protect both the platform and its users.'
                            }
                        ]
                    },
                    {
                        id: 3,
                        title: 'Phase 3: Frontend Interface & User Experience',
                        description: 'The final phase focuses on creating a seamless and secure user experience for interacting with the new payment system, translating powerful backend capabilities into an intuitive interface.',
                        cards: [
                            {
                                icon: 'üìä',
                                title: 'User Wallet Dashboard',
                                description: 'A dedicated page will be developed where users can view their balances, generate deposit addresses, and initiate withdrawals, with clear transaction statuses.'
                            },
                            {
                                icon: 'üõí',
                                title: 'Integrated Checkout',
                                description: 'The existing checkout flow will be updated to allow users to seamlessly select their preferred cryptocurrency (Bitcoin or Monero) for payment.'
                            },
                            {
                                icon: '‚öñÔ∏è',
                                title: 'Escrow Interface',
                                description: 'A user-friendly interface will be built to manage escrow transactions, including status displays, fund release options, and a dispute resolution process.'
                            }
                        ]
                    }
                ]
            },
            nl: {
                title: 'De Weg naar Crypto',
                subtitle: 'Een Interactieve Implementatie Blueprint',
                sectionTitle: 'Een Gefaseerde Aanpak voor Veilige Crypto-integratie',
                sectionDescription: 'Deze blauwdruk schetst het uitgebreide, driefasige plan om Bitcoin (BTC) en Monero (XMR) portemonnees, samen met een veilig multi-signature escrow-systeem, te integreren in het Maestro Shop platform. Navigeer door de fasen met behulp van de tabbladen om de technische vereisten en projectomvang in elke fase te verkennen.',
                phase1Tab: 'Fase 1: Infrastructuur',
                phase2Tab: 'Fase 2: Backend & API\'s',
                phase3Tab: 'Fase 3: Frontend & UX',
                flowchart1Title: 'Fase 1',
                flowchart1Subtitle: 'Fundamentele Infrastructuur',
                flowchart2Title: 'Fase 2',
                flowchart2Subtitle: 'Kern Backend Diensten',
                flowchart3Title: 'Fase 3',
                flowchart3Subtitle: 'Frontend & Gebruikerservaring',
                conclusionTitle: 'Conclusie: De Omvang van het Project',
                conclusionText: 'De implementatie van een robuust, privacy-gericht systeem voor cryptobetalingen en escrow is een aanzienlijke onderneming. Het is een project dat verder gaat dan eenvoudige codewijzigingen en elk onderdeel van de applicatiestack raakt. Deze aanpak sluit aan bij moderne beveiligings- en privacyprincipes en bereidt Maestro Shop voor op een werkelijk hoogwaardige en veilige winkelervaring. Het benodigde werk is omvangrijk, van het databaseschema tot de gebruikersinterface, maar het resultaat zal een krachtig en veerkrachtig systeem zijn.',
                footerText: '¬© 2025 Maestro Shop Crypto Integratieplan',
                phases: [
                    {
                        id: 1,
                        title: 'Fase 1: Fundamentele Infrastructuur',
                        description: 'De eerste fase richt zich op het bouwen van een veilige en schaalbare backend-fundering. Dit is het meest kritieke en complexe deel van het project en legt de basis voor alle volgende functies.',
                        cards: [
                            {
                                icon: 'üóÉÔ∏è',
                                title: 'Databaseschema',
                                description: 'De bestaande database is onvoldoende. We introduceren nieuwe tabellen om transacties, portemonnees en het escrow-systeem te verwerken.',
                                code: ['<strong>- user_crypto_wallets</strong>', '<strong>- crypto_transactions</strong>', '<strong>- escrow_transactions</strong>']
                            },
                            {
                                icon: 'üîó',
                                title: 'Betaalgateways',
                                description: 'Vertrouwen op een zelf-gehoste, open-source betalingsverwerker zoals <strong class="text-[#3f3c36]">BTCPay Server</strong> wordt sterk aanbevolen voor het afhandelen van complexe taken, zoals het genereren van unieke adressen en het monitoren van de blockchain.'
                            },
                            {
                                icon: 'üåê',
                                title: 'Zelf-gehoste Nodes',
                                description: 'Voor echte privacy en decentralisatie is het essentieel om onze eigen <strong class="text-[#3f3c36]">Bitcoin Core</strong> en Monero <strong class="text-[#3f3c36]">monerod</strong> nodes te draaien. Dit zorgt ervoor dat we niet afhankelijk zijn van externe, potentieel minder private, diensten van derden.'
                            }
                        ]
                    },
                    {
                        id: 2,
                        title: 'Fase 2: Kern Backend Diensten & API\'s',
                        description: 'Met de basis op zijn plaats richt deze fase zich op het bouwen van de applicatielogica en API\'s die de portemonnee- en escrow-functionaliteiten zullen aandrijven, en de infrastructuur zullen verbinden met de gebruikersgerichte functies.',
                        cards: [
                            {
                                icon: 'üîå',
                                title: 'API Endpoints',
                                description: 'Een nieuwe set RESTful API endpoints zal alle crypto-gerelateerde functies beheren en een duidelijke interface bieden voor de frontend.',
                                code: ['/api/wallet/{currency}/deposit', '/api/wallet/{currency}/balance', '/api/wallet/{currency}/withdraw', '/api/escrow/create']
                            },
                            {
                                icon: 'ü§ù',
                                title: 'Escrow Logica',
                                description: 'Het escrow-systeem wordt gebouwd op een <strong class="text-[#3f3c36]">2-uit-3 multi-signature</strong> principe, waarbij ten minste twee van de drie partijen (koper, verkoper en een platformarbiter) een transactie moeten goedkeuren voordat de fondsen worden vrijgegeven, wat eerlijkheid garandeert en het risico op fraude vermindert.'
                            },
                            {
                                icon: 'üõ°Ô∏è',
                                title: 'Beveiliging & Auditing',
                                description: 'Nieuwe diensten zullen worden ge√Ømplementeerd om hot wallets te beveiligen, reguliere overdrachten naar cold storage te beheren en auditlogboeken te verstrekken voor alle financi√´le transacties. Dit is een cruciale beveiligingslaag om zowel het platform als de gebruikers te beschermen.'
                            }
                        ]
                    },
                    {
                        id: 3,
                        title: 'Fase 3: Frontend & Gebruikerservaring',
                        description: 'De laatste fase richt zich op het cre√´ren van een naadloze en veilige gebruikerservaring voor interactie met het nieuwe betalingssysteem, waarbij krachtige backend-mogelijkheden worden vertaald naar een intu√Øtieve interface.',
                        cards: [
                            {
                                icon: 'üìä',
                                title: 'Gebruikersportemonnee Dashboard',
                                description: 'Er wordt een speciale pagina ontwikkeld waar gebruikers hun saldi kunnen bekijken, stortingsadressen kunnen genereren en opnames kunnen initi√´ren, met duidelijke transactiestatussen.'
                            },
                            {
                                icon: 'üõí',
                                title: 'Ge√Øntegreerde Checkout',
                                description: 'Het bestaande afrekenproces wordt bijgewerkt, zodat gebruikers naadloos hun voorkeursvaluta (Bitcoin of Monero) kunnen selecteren voor betaling.'
                            },
                            {
                                icon: '‚öñÔ∏è',
                                title: 'Escrow Interface',
                                description: 'Er wordt een gebruiksvriendelijke interface gebouwd om escrow-transacties te beheren, inclusief statusweergaves, opties voor het vrijgeven van fondsen en een geschillenoplossingsproces.'
                            }
                        ]
                    }
                ]
            },
            fr: {
                title: 'La Voie vers la Crypto',
                subtitle: 'Un Plan de Mise en ≈íuvre Interactif',
                sectionTitle: 'Une Approche en Phases pour une Int√©gration Crypto S√©curis√©e',
                sectionDescription: 'Ce plan d√©crit le plan complet en trois phases pour int√©grer des portefeuilles Bitcoin (BTC) et Monero (XMR), ainsi qu\'un syst√®me d\'entiercement multi-signatures s√©curis√©, sur la plateforme Maestro Shop. Naviguez √† travers les phases en utilisant les onglets ci-dessous pour explorer les exigences techniques et la port√©e du projet √† chaque √©tape.',
                phase1Tab: 'Phase 1: Infrastructure',
                phase2Tab: 'Phase 2: Backend & APIs',
                phase3Tab: 'Phase 3: Frontend & UX',
                flowchart1Title: 'Phase 1',
                flowchart1Subtitle: 'Infrastructure Fondamentale',
                flowchart2Title: 'Phase 2',
                flowchart2Subtitle: 'Services Backend Principaux',
                flowchart3Title: 'Phase 3',
                flowchart3Subtitle: 'Frontend & Exp√©rience Utilisateur',
                conclusionTitle: 'Conclusion: L\'√âchelle du Projet',
                conclusionText: 'La mise en ≈ìuvre d\'un syst√®me de paiement et d\'entiercement de crypto-monnaies robuste et ax√© sur la confidentialit√© est une entreprise importante. C\'est un projet qui va au-del√† de simples modifications de code, touchant chaque couche de la pile d\'applications. Cette approche s\'aligne sur les principes de s√©curit√© et de confidentialit√© modernes, pr√©parant Maestro Shop √† une exp√©rience d\'achat v√©ritablement premium et s√©curis√©e. Le travail requis est vaste, s\'√©tendant du sch√©ma de base de donn√©es √† l\'interface utilisateur, mais le r√©sultat sera un syst√®me puissant et r√©silient.',
                footerText: '¬© 2025 Plan d\'Int√©gration Crypto Maestro Shop',
                phases: [
                    {
                        id: 1,
                        title: 'Phase 1: Infrastructure Fondamentale',
                        description: 'La phase initiale se concentre sur la construction d\'une base backend s√©curis√©e et √©volutive. C\'est la partie la plus critique et la plus complexe du projet, √©tablissant le socle pour toutes les fonctionnalit√©s suivantes.',
                        cards: [
                            {
                                icon: 'üóÉÔ∏è',
                                title: 'Sch√©ma de Base de Donn√©es',
                                description: 'La base de donn√©es existante est insuffisante. Nous introduirons de nouvelles tables pour g√©rer les transactions de crypto-monnaies, les portefeuilles et le syst√®me d\'entiercement.',
                                code: ['<strong>- user_crypto_wallets</strong>', '<strong>- crypto_transactions</strong>', '<strong>- escrow_transactions</strong>']
                            },
                            {
                                icon: 'üîó',
                                title: 'Passerelles de Paiement',
                                description: 'S\'appuyer sur un processeur de paiement auto-h√©berg√© et open-source comme <strong class="text-[#3f3c36]">BTCPay Server</strong> est fortement recommand√© pour g√©rer des t√¢ches complexes telles que la g√©n√©ration d\'adresses uniques et la surveillance de la blockchain.'
                            },
                            {
                                icon: 'üåê',
                                title: 'N≈ìuds Auto-H√©berg√©s',
                                description: 'Pour une v√©ritable confidentialit√© et d√©centralisation, l\'ex√©cution de nos propres n≈ìuds <strong class="text-[#3f3c36]">Bitcoin Core</strong> et Monero <strong class="text-[#3f3c36]">monerod</strong> est essentielle. Cela garantit que nous ne d√©pendons pas de services externes, potentiellement moins priv√©s, de tiers.'
                            }
                        ]
                    },
                    {
                        id: 2,
                        title: 'Phase 2: Services Backend Principaux & APIs',
                        description: 'Une fois la base en place, cette phase se concentre sur la construction de la logique d\'application et des API qui alimenteront les fonctionnalit√©s de portefeuille et d\'entiercement, en connectant l\'infrastructure aux fonctionnalit√©s c√¥t√© utilisateur.',
                        cards: [
                            {
                                icon: 'üîå',
                                title: 'API Endpoints',
                                description: 'Un nouvel ensemble de points de terminaison d\'API RESTful g√©rera toutes les fonctions li√©es √† la crypto, fournissant une interface claire pour le frontend.',
                                code: ['/api/wallet/{currency}/deposit', '/api/wallet/{currency}/balance', '/api/wallet/{currency}/withdraw', '/api/escrow/create']
                            },
                            {
                                icon: 'ü§ù',
                                title: 'Logique d\'Entiercement',
                                description: 'Le syst√®me d\'entiercement sera construit sur un principe de <strong class="text-[#3f3c36]">multi-signature 2-sur-3</strong>, n√©cessitant l\'approbation d\'au moins deux des trois parties (acheteur, vendeur et un arbitre de plateforme) pour qu\'une transaction soit lib√©r√©e, ce qui garantit l\'√©quit√© et r√©duit le risque de fraude.'
                            },
                            {
                                icon: 'üõ°Ô∏è',
                                title: 'S√©curit√© & Audit',
                                description: 'De nouveaux services seront mis en ≈ìuvre pour s√©curiser les portefeuilles chauds, g√©rer les transferts r√©guliers vers le stockage √† froid et fournir des journaux d\'audit pour toutes les transactions financi√®res. Il s\'agit d\'une couche de s√©curit√© cruciale pour prot√©ger √† la fois la plateforme et ses utilisateurs.'
                            }
                        ]
                    }
                ]
            }
        };
        let currentLanguage = 'en';
        let currentPhase = '1';

        const i18nElements = {
            'title': 'textContent',
            'subtitle': 'textContent',
            'section-title': 'textContent',
            'section-description': 'textContent',
            'flowchart-1-title': 'textContent',
            'flowchart-1-subtitle': 'textContent',
            'flowchart-2-title': 'textContent',
            'flowchart-2-subtitle': 'textContent',
            'flowchart-3-title': 'textContent',
            'flowchart-3-subtitle': 'textContent',
            'conclusion-title': 'textContent',
            'conclusion-text': 'textContent',
            'footer-text': 'textContent'
        };

        function updateContent(lang) {
            currentLanguage = lang;
            const data = languageData[lang];

            Object.keys(i18nElements).forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    const property = i18nElements[id];
                    element[property] = data[id.replace(/-/g, '_')] || data[id];
                }
            });

            const phaseTabs = document.querySelectorAll('.phase-tab');
            if (phaseTabs[0]) phaseTabs[0].textContent = data.phase1Tab;
            if (phaseTabs[1]) phaseTabs[1].textContent = data.phase2Tab;
            if (phaseTabs[2]) phaseTabs[2].textContent = data.phase3Tab;
            
            const flowChartTitles = document.querySelectorAll('.flowchart-titles');
            if(flowChartTitles[0]) flowChartTitles[0].textContent = data.flowchart1Title;
            if(flowChartTitles[1]) flowChartTitles[1].textContent = data.flowchart2Title;
            if(flowChartTitles[2]) flowChartTitles[2].textContent = data.flowchart3Title;

            const flowChartSubtitles = document.querySelectorAll('.flowchart-subtitles');
            if(flowChartSubtitles[0]) flowChartSubtitles[0].textContent = data.flowchart1Subtitle;
            if(flowChartSubtitles[1]) flowChartSubtitles[1].textContent = data.flowchart2Subtitle;
            if(flowChartSubtitles[2]) flowChartSubtitles[2].textContent = data.flowchart3Subtitle;

            renderPhase(currentPhase);
        }

        function renderPhase(phaseNumber) {
            currentPhase = phaseNumber;
            const phaseContainer = document.getElementById('phases-container');
            const data = languageData[currentLanguage].phases.find(p => p.id == phaseNumber);

            if (!data) return;

            const html = `
                <div id="phase-${data.id}-content" class="phase-content active">
                    <h3 class="text-2xl font-bold text-center mb-8">${data.title}</h3>
                    <p class="text-center max-w-2xl mx-auto text-[#6b665b] mb-12">${data.description}</p>
                    <div class="grid md:grid-cols-3 gap-8">
                        ${data.cards.map(card => `
                            <div class="info-card rounded-lg p-6 shadow-sm">
                                <div class="flex items-center mb-4">
                                    <div class="info-card-icon rounded-full p-3 mr-4">
                                        <span class="text-2xl">${card.icon}</span>
                                    </div>
                                    <h4 class="text-xl font-semibold">${card.title}</h4>
                                </div>
                                <p class="text-[#6b665b] mb-4">${card.description}</p>
                                ${card.code ? `<div class="code-block text-sm p-4 rounded-md"><ul>${card.code.map(line => `<li class="text-xs sm:text-sm">${line}</li>`).join('')}</ul></div>` : ''}
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            phaseContainer.innerHTML = html;
        }

        document.addEventListener('DOMContentLoaded', () => {
            const phaseTabs = document.querySelectorAll('.phase-tab');
            const langSelectors = document.querySelectorAll('.lang-selector span');

            function setActivePhase(phaseNumber) {
                phaseTabs.forEach(tab => {
                    tab.classList.toggle('active', tab.dataset.phase === phaseNumber);
                });
                renderPhase(phaseNumber);
            }
            
            function setActiveLanguage(lang) {
                langSelectors.forEach(selector => {
                    selector.classList.toggle('active', selector.id === `lang-${lang}`);
                });
                updateContent(lang);
            }

            phaseTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    setActivePhase(tab.dataset.phase);
                });
            });
            
            langSelectors.forEach(selector => {
                const lang = selector.id.split('-')[1];
                selector.addEventListener('click', () => {
                    setActiveLanguage(lang);
                });
            });

            updateContent('en');
        });
    </script>
</body>
</html>
ÔøΩ